{"ast":null,"code":"var _jsxFileName = \"/Users/andrey/Documents/Ciklum/\\u043A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/Ciklum/prometheus-x-course-task/X-course-task/x-course-task/src/pages/Signin/SigninPage.jsx\",\n  _s = $RefreshSig$();\nimport { MyButton } from \"../../components/UI/MyButton/MyButton\";\nimport img from '../../images/user-svgrepo-com.svg';\nimport './Auth.scss';\nimport { useNavigate } from \"react-router-dom\";\nimport { useCallback, useContext, useState } from \"react\";\nimport debounce from 'lodash.debounce';\nimport { AuthFormValidator } from '../../validators/AuthFormValidator';\nimport { UserContext } from \"../../features/context/UserContext\";\nimport { LOGIN } from \"../../features/actions\";\nimport { hasWhiteSpace } from \"../../utils/hasWhiteSpace\";\nimport { BOOKS_ROUTE } from \"../../utils/consts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Auth = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const {\n    userDispatch\n  } = useContext(UserContext);\n  const [error, setError] = useState(false);\n  const navigate = useNavigate();\n  const isDisabled = AuthFormValidator(username);\n  const login = async e => {\n    e.preventDefault();\n    const isNotCorrectUsername = hasWhiteSpace(username);\n    setError(isNotCorrectUsername);\n    if (!isNotCorrectUsername) {\n      await userDispatch({\n        type: LOGIN,\n        payload: {\n          username: username\n        }\n      });\n      navigate({\n        pathname: BOOKS_ROUTE\n      });\n    }\n  };\n  const changeHandler = e => {\n    setUsername(e.target.value);\n  };\n  const debouncedChangeHandler = useCallback(debounce(changeHandler, 500), [isDisabled]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section-outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-inner auth\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth_avatar\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: img,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"auth__form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          id: \"username\",\n          placeholder: \"type Username\",\n          onChange: debouncedChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"not-allowed\",\n          children: \"Username will not allow a space\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n          disabled: isDisabled,\n          className: \"auth__button\",\n          onClick: e => login(e),\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Auth, \"+ZYtmQVvOlO1d3sG3PrlSHOeKMI=\", false, function () {\n  return [useNavigate];\n});\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["MyButton","img","useNavigate","useCallback","useContext","useState","debounce","AuthFormValidator","UserContext","LOGIN","hasWhiteSpace","BOOKS_ROUTE","jsxDEV","_jsxDEV","Auth","_s","username","setUsername","userDispatch","error","setError","navigate","isDisabled","login","e","preventDefault","isNotCorrectUsername","type","payload","pathname","changeHandler","target","value","debouncedChangeHandler","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","placeholder","onChange","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/andrey/Documents/Ciklum/курсовая/Ciklum/prometheus-x-course-task/X-course-task/x-course-task/src/pages/Signin/SigninPage.jsx"],"sourcesContent":["import {MyButton} from \"../../components/UI/MyButton/MyButton\";\nimport img from '../../images/user-svgrepo-com.svg'\nimport './Auth.scss'\nimport {useNavigate} from \"react-router-dom\";\nimport {useCallback, useContext, useState} from \"react\";\nimport debounce from 'lodash.debounce'\nimport {AuthFormValidator} from '../../validators/AuthFormValidator'\nimport {UserContext} from \"../../features/context/UserContext\";\nimport {LOGIN} from \"../../features/actions\";\nimport {hasWhiteSpace} from \"../../utils/hasWhiteSpace\";\nimport {BOOKS_ROUTE} from \"../../utils/consts\";\n\n\nconst Auth = () => {\n    const [username, setUsername] = useState('')\n    const {userDispatch} = useContext(UserContext)\n    const [error, setError] = useState(false)\n\n\n    const navigate = useNavigate()\n    const isDisabled = AuthFormValidator(username)\n    const login = async (e) => {\n        e.preventDefault()\n        const isNotCorrectUsername = hasWhiteSpace(username)\n        setError(isNotCorrectUsername)\n        if (!isNotCorrectUsername) {\n            await userDispatch({ type: LOGIN, payload:{username:username}});\n            navigate({\n                pathname:BOOKS_ROUTE,\n            })\n        }\n    }\n\n    const changeHandler = (e) => {\n        setUsername(e.target.value)\n    }\n\n    const debouncedChangeHandler = useCallback(\n        debounce(changeHandler, 500)\n        , [isDisabled]);\n\n    return (\n        <section className='section-outer'>\n            <div className=\"section-inner auth\">\n                <div className=\"auth_avatar\">\n                    <img src={img} alt=\"\"/>\n                </div>\n                <form className='auth__form'>\n                    <label htmlFor=\"username\">Username</label>\n                    <input\n                        className='input'\n                        type=\"text\"\n                        id='username'\n                        placeholder='type Username'\n                        onChange={debouncedChangeHandler}\n                    />\n                    {error && <div className='not-allowed'>Username will not allow a space</div>}\n                    <MyButton\n                        disabled={isDisabled}\n                        className='auth__button'\n                        onClick={(e) => login(e)}\n                    >\n                        Sign In\n                    </MyButton>\n                </form>\n            </div>\n        </section>\n    );\n};\n\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}